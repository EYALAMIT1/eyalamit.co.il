📖 נוהל עבודה מרכזי (SSOT) - eyalamit.co.il
גרסה: 7.5 (פרוטוקול מיגרציה לאלמנטור)
סמכות עליונה: CEO אייל עמית
👑 1. שרשרת סמכות (5-Team Model)
(ללא שינוי: מנכ"ל -> ארכיטקט -> צוות 3 -> צוותים 1,2,4).
🔄 2. אסטרטגיית מיגרציה (Migration Strategy)
No Legacy Support: תוסף WPBakery לא יופעל שוב. המטרה היא אתר 100% אלמנטור.
DB Cleaning: כל תוכן שורטקוד ישן ינוקה טקסטואלית כדי להשאיר את המידע (Content) ללא העיצוב (Markup) הישן.
Manual Rebuild: דפי הליבה (דף בית, שירותים) ייבנו מחדש באלמנטור לביצועים מקסימליים.
🎯 2. תפקיד צוות 3 (Gatekeeper) - הגדרה מלאה
צוות 3 (Docs & Git - Gatekeeper) הוא המנצח של התזמורת והגשר בין כל הצוותים. תפקידיו כוללים:

**ניהול תזמון וסינכרוניזציה:**
- ניצוח על התזמורת: תזמון משימות בין הצוותים השונים
- סינכרוניזציה מלאה: הבטחת עבודה מתואמת וביעילות מירבית
- הבטחת התקדמות: מעקב אחרי התקדמות העבודה וזיהוי חסמים

**ייצור והעברת הודעות (דרך תקשורת מחייבת):**
**חשוב - רק המנהלת מעבירה הודעות בפועל בין הצוותים!**

- **הצגת הודעות למנהלת**: כל הודעה שצריך להעביר לצוותים חייבת להיות מוצגת למנהלת בפורמט הקבוע בתוך בלוק קוד (```) כדי לאפשר העתקה קלה
- **כל מסר תמיד מוצג**: כל מסר שצריך להעביר - יש להציג תמיד למנהלת לכל צוות ובכל מקרה, גם אם המסר קצר
- **כתיבה לקובץ (אופציונלי)**: כתיבת הודעות לקובץ MESSAGES.md נועדה רק להוספת מידע נוסף ומשלים במידת הצורך. לרוב, כשהמסר קצר - אין צורך בכלל לעבוד עם הקובץ
- **תוכן מורכב**: אם נדרש תוכן מורכב - ניתן להשתמש בקובץ לדיווח מלא לצוות הרלוונטי, אבל ההודעה העיקרית חייבת להיות מוצגת למנהלת בבלוק קוד
- **יוצרים הודעות לכל הצוותים**: צוות 3 יוצר הודעות לכל הצוותים (1, 2, 4, 0) ולא רק לארכיטקט

**פתרון קונפליקטים:**
- שער לפני העלאה למעלה: פתרון קונפליקטים בין צוותים לפני העלאה לארכיטקט/מנכ"ל
- גשר בין צוותים: תיווך ותקשורת בין הצוותים השונים
- הכרעה ראשונית: סמכות להכריע בקונפליקטים טכניים/נהליים

**אכיפת נהלים:**
- אכיפת פורמט דיווח: וידוא שכל ההודעות עומדות בפורמט המחייב
- ניהול Git: אחריות על Branches, Merges ווידוא שקוד לא עובר ל-Main בלי אישור QA
- תיעוד: עדכון מסמכי הנהלים והדוקומנטציה

**סנכרון מול הארכיטקט:**
- עדכון נהלים: עדכון מסמכי הנהלים ב-Cursor לפי ההנחיות מה-Canvas
- דיווח למנהלת: דיווחים מפורטים למנהלת על סטטוס הפרויקט

**פרוטוקול עיבוד משוב צוותים (Team Feedback Processing Protocol):**
כאשר מתקבל משוב מהצוותים, צוות 3 חייב לעמוד בסדר הבא:

1. **תקציר מנהלים וסיכום מצב עדכני** - הצגה ראשונית של המצב הנוכחי
   - **חובה**: כל סעיף בסיכום חייב לכלול רמזור צבע (🔴/🟡/🟢)
   - **חובה**: רמזור כללי בסוף הסיכום המציין את המצב הכולל של הפרויקט
   - **רמזורים**: 🔴 קריטי/חסום, 🟡 בתהליך/ממתין, 🟢 הושלם/מוכן
2. **בחינת פעולות המשך:**
   - 2.1 אם נדרשות פעולות המשך:
     - 2.1.1 אם הפעולות ברורות ב-100% ללא ספקות → הצגת הודעות המשך לצוותים
     - 2.1.2 אם לא ברור → הצגת חלופות והמלצות + הודעה לצוות 0
   - 2.2 אם לא נדרשות פעולות המשך, או בעיה/קושי → הודעה לצוות 0

**חשוב - הודעות לצוות 0:**
צוות 0 יושב מחוץ לסביבת העבודה והקוד לא נגיש לו. לכן, בהודעות לצוות 0 הכוללות מידע משלים בקבצים, יש לכלול קישור מפורש לקובץ הרלוונטי בו מרוכז המידע (למשל: "ראה מידע מלא ב-[נתיב קובץ מלא]").

📝 3. פורמט דיווח מחייב (v7.3 Standard)
כל הודעה חייבת להיות בתוך Code Block.
חובה להפנות למידע המלא ב-docs/project/ACTIVE-TASK.md.

**דגלי צבע לסטטוס (Status Color Flags):**
כל הודעה חייבת לכלול דגל צבע בסטטוס לפי המשמעות הבאה:
- 🔴 **אדום**: קריטי, חסום (BLOCKED), נכשל (FAILED), דורש התערבות מיידית
- 🟡 **צהוב**: ממתין (PENDING), בתהליך (IN_PROGRESS), דורש תשומת לב, פעולה נדרשת (ACTION_REQUIRED)
- 🟢 **ירוק**: הושלם (COMPLETED), מוכן (READY), אושר (APPROVED), הצלחה

**דוגמה:**
```
Status: 🟡 ACTION_REQUIRED
Status: 🔴 BLOCKED
Status: 🟢 COMPLETED
```
🛠️ 4. פרוטוקול שדרוג מערכת (Upgrade Protocol)
השדרוג יבוצע בסדר הבא:
גיבוי (T4): יצירת Snapshot מלא למסד הנתונים.
שדרוג ליבה (T1): שימוש ב-WP-CLI בתוך הקונטיינר.
שדרוג תוספים (T1): החלפה פיזית של תיקיות Plugins לגרסאות תואמות PHP 8.3.
בדיקת עשן (T2): אימות סטטוס 200 OK ורינדור אלמנטים.
🌐 5. הגדרות סביבה
WordPress: http://localhost:9090 (PHP 8.3)