# תוכנית פעולה: העלאת האתר המעודכן לייצור
## עדכון WordPress מ-5.2.2 ל-6.8.3

**תאריך הכנה:** נובמבר 2025  
**מטרה:** העלאת האתר המעודכן מהסביבה המקומית לייצור בצורה בטוחה ומסודרת

---

## ⚠️ כללים חשובים לפני תחילת העבודה

1. **גיבוי לפני הכל** - תמיד עשה גיבוי מלא לפני כל שינוי
2. **עבודה בשעות שקטות** - עדיף לעדכן בלילה או בשעות פחות עמוסות
3. **אחד אחד** - עבוד שלב שלב, אל תקפוץ לשלב הבא לפני שהשלב הנוכחי הושלם
4. **תיעוד** - רשום כל פעולה שעשית (למה נצליח, מה לא)
5. **תוכנית שחזור** - תמיד יש תוכנית איך לחזור אחורה אם משהו נכשל

---

## שלב 0: הכנה וחשיבה לפני

### 0.1 בדיקת רשימת בדיקות מקומיות

**לפני שאתה מתחיל - ודא שסיימת את כל הבדיקות המקומיות!**

ראה: `docs/PRE-PRODUCTION-CHECKLIST.md`

- [ ] כל הבדיקות הקריטיות עברו ✅
- [ ] אין שגיאות Fatal
- [ ] WooCommerce עובד
- [ ] כל הדפים החשובים נטענים
- [ ] טפסים עובדים

**אם יש בעיות קריטיות - תקן אותן קודם!**

---

## שלב 1: גיבוי מלא של אתר ייצור (חובה!)

### 1.1 גיבוי בסיס נתונים

**דרך phpMyAdmin:**

1. פתח phpMyAdmin
2. בחר את בסיס הנתונים של האתר
3. לחץ על **"Export"** (יצוא)
4. בחר **"Quick"** או **"Custom"**
5. לחץ על **"Go"** (לך)
6. שמור את הקובץ בשם: `production_backup_DB_[תאריך]_[שעה].sql`

- [ ] **גיבוי DB הושלם** - קובץ נוצר ונסוחן למחשב המקומי
- [ ] **גודל הגיבוי** - בדוק שהקובץ לא ריק (צריך להיות לפחות כמה MB)
- [ ] **מיקום הגיבוי** - שמור במקום בטוח (לא על השרת!)

---

## שלב 2: העתקת קבצים מהסביבה המקומית לייצור

### 2.1 רשימת מה צריך להעתיק

**✅ כן - צריך להעתיק:**

- ✅ **wp-admin/** - תיקיית Admin (כל הקבצים המעודכנים)
- ✅ **wp-includes/** - תיקיית Core של WordPress (כל הקבצים המעודכנים)
- ✅ **wp-content/themes/** - כל התבניות (כולל bridge ו-bridge-child)
- ✅ **wp-content/plugins/** - כל הפלאגינים המעודכנים
- ✅ **wp-content/languages/** - קבצי שפה
- ✅ **כל הקבצים ברמה העליונה:** index.php, license.txt, readme.html, וכו'

**❌ לא - אל תעתיק:**

- ❌ **wp-config.php** - אל תעתיק! (צריך לעדכן ידנית - ראה שלב 2.3)
- ❌ **wp-content/uploads/** - בדרך כלל לא צריך (אלא אם יש תמונות חדשות)
- ❌ **wp-content/cache/** - לא צריך (cache)
- ❌ **wp-content/upgrade/** - תיקייה זמנית

---

## שלב 3: עדכון בסיס הנתונים

### 3.1 עדכון מסד נתונים WordPress

**דרך Admin Panel:**

1. פתח את האתר בייצור: `https://yourdomain.com/wp-admin`
2. **אם WordPress מזהה עדכון** - תראה הודעה:
   - "Database Update Required" (עדכון מסד נתונים נדרש)
3. לחץ על **"Update Database"** (עדכן מסד נתונים)
4. המתן עד שהעדכון יסתיים

- [ ] **מסד נתונים עודכן** ✅
- [ ] **אין שגיאות** - האתר עובד תקין

---

## שלב 4: בדיקות ראשוניות בייצור

### 4.1 בדיקות מיידיות

**ביצוע מיד לאחר העתקה:**

1. **פתח את האתר:**
   - URL: `https://yourdomain.com`
   - [ ] האתר נטען ✅
   - [ ] אין שגיאות 500/404 ✅

2. **פתח Admin Panel:**
   - URL: `https://yourdomain.com/wp-admin`
   - [ ] אפשר להתחבר ✅
   - [ ] הדשבורד נטען ✅

3. **בדוק גרסת WordPress:**
   - Admin → Dashboard → At a Glance
   - [ ] גרסת WordPress: **6.8.3** ✅

---

## תוכנית שחזור - אם משהו נכשל

### אם יש שגיאת 500 או אתר לא עובד:

1. **אל תיבהל!** - יש לך גיבוי מלא
2. **שחזר את wp-config.php:**
   - מהגיבוי, קח את wp-config.php הישן
   - העלה אותו לייצור
   - ודא שההגדרות נכונות
3. **אם עדיין לא עובד:**
   - שחזר את בסיס הנתונים מהגיבוי
   - דרך phpMyAdmin: Import → בחר את קובץ הגיבוי
4. **אם עדיין לא עובד:**
   - שחזר את כל הקבצים מהגיבוי

**חשוב:** תמיד שמור את הגיבוי במקום בטוח!

---

## סיכום והחלטה

### ✅ העדכון הצליח אם:

- ✅ האתר נטען ונע
- ✅ אין שגיאות 500
- ✅ כל הדפים החשובים עובדים
- ✅ WooCommerce עובד
- ✅ טפסים עובדים
- ✅ Admin נגיש

### ❌ צריך לחזור אחורה אם:

- ❌ האתר לא נטען (500 error)
- ❌ לא יכול להתחבר ל-Admin
- ❌ WooCommerce לא עובד (וקריטי)
- ❌ יש בעיות קריטיות

---

**תאריך עדכון:** _______________________________________________  
**שעה התחלה:** _______________________________________________  
**שעה סיום:** _______________________________________________  
**מי ביצע:** _______________________________________________

