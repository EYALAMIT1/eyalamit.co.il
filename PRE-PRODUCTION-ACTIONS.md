# פעולות לפני העלאה לייצור
## רשימת בדיקות והכנות

**תאריך:** 25 בנובמבר 2025  
**מטרה:** וידוא שהכל מוכן לפני העלאה לייצור

---

## ✅ שלב 1: גיבוי מקומי (חובה!)

### 1.1 גיבוי מלא של הסביבה המקומית

**לפני כל דבר אחר - עשה גיבוי!**

```batch
.\backup-site.bat
```

או:

```powershell
.\backup-site.ps1
```

**מה זה עושה:**
- גיבוי בסיס נתונים → `backups\backup_YYYY-MM-DD_HH-MM-SS\database_backup.sql`
- גיבוי קבצים → `backups\backup_YYYY-MM-DD_HH-MM-SS\files_backup.zip`
- יצירת manifest → `backups\backup_YYYY-MM-DD_HH-MM-SS\manifest.json`

**בדוק:**
- [ ] הגיבוי הושלם בהצלחה
- [ ] קובץ ה-DB קיים ולא ריק
- [ ] קובץ ה-ZIP קיים (גודל סביר)
- [ ] Manifest נוצר

---

## ✅ שלב 2: יצירת ZIP עם תמיכה בנתיבים ארוכים

### 2.1 יצירת קובץ ZIP מוכן לייצור

**השתמש בסקריפט החדש שיצרנו:**

```powershell
.\create-long-path-zip.ps1
```

או:

```batch
.\CREATE-LONG-PATH-ZIP.bat
```

**מה זה עושה:**
- יוצר קובץ ZIP עם תמיכה מלאה בנתיבים ארוכים
- משתמש ב-7-Zip עם פרמטר `-spf2`
- שומר את כל הקבצים עם שמות ארוכים

**בדוק:**
- [ ] קובץ ZIP נוצר: `long-path-backup_YYYY-MM-DD_HH-MM-SS.zip`
- [ ] גודל הקובץ סביר (כמה GB)
- [ ] אין שגיאות ביצירה
- [ ] אימות עבר בהצלחה

**הערה:** קובץ זה מוכן להעלאה לשרת ייצור!

---

## ✅ שלב 3: דחיפה ל-GitHub (מומלץ!)

### 3.1 שמירת הקוד ב-GitHub

**השתמש בסקריפט:**

```batch
.\GIT-COMMIT-AND-PUSH.bat
```

**מה זה עושה:**
- בודק סטטוס Git
- מוסיף את כל השינויים
- יוצר commit
- מעלה ל-GitHub

**בדוק:**
- [ ] כל השינויים נוספו
- [ ] Commit נוצר
- [ ] Push ל-GitHub הצליח
- [ ] אפשר לראות את השינויים ב-GitHub

**Repository:** https://github.com/EYALAMIT1/eyalamit.co.il.git

---

## ✅ שלב 4: בדיקות מקומיות (חובה!)

### 4.1 בדיקות בסיסיות

ראה: `docs/PRE-PRODUCTION-CHECKLIST.md`

**בדיקות קריטיות:**
- [ ] האתר נטען: `http://localhost:8080`
- [ ] אין שגיאות 500/404
- [ ] Admin Panel נגיש: `http://localhost:8080/wp-admin`
- [ ] אין שגיאות Fatal ב-Logs
- [ ] גרסת WordPress: **6.8.3** ✅

### 4.2 בדיקת WooCommerce (חובה!)

- [ ] דף חנות נטען
- [ ] אפשר להוסיף מוצר לעגלה
- [ ] דף Checkout עובד
- [ ] אין שגיאות בתהליך

### 4.3 בדיקת טפסים

- [ ] טפסי קשר עובדים
- [ ] אפשר לשלוח טופס
- [ ] הודעת הצלחה מופיעה

---

## ✅ שלב 5: גיבוי ייצור (חובה לפני העלאה!)

### 5.1 גיבוי אתר ייצור

**⚠️ חשוב מאוד! לפני שאתה מעלה משהו לייצור, תמיד גבה את אתר ייצור!**

**דרך phpMyAdmin:**
1. פתח phpMyAdmin של אתר ייצור
2. בחר את בסיס הנתונים
3. Export → Quick/Custom → Go
4. שמור: `production_backup_DB_YYYY-MM-DD_HH-MM-SS.sql`

**גיבוי קבצים:**
- העתק את כל תיקיית `wp-content/` מהשרת
- או השתמש בכלי גיבוי של השרת (אם יש)

**בדוק:**
- [ ] גיבוי DB הושלם
- [ ] גיבוי קבצים הושלם
- [ ] הקבצים נשמרו במקום בטוח (לא על השרת!)

---

## ✅ שלב 6: הכנת קובץ ZIP להעלאה

### 6.1 מה להכליל ב-ZIP

**✅ כן - צריך להכליל:**
- ✅ `wp-admin/` - כל הקבצים המעודכנים
- ✅ `wp-includes/` - כל הקבצים המעודכנים
- ✅ `wp-content/themes/` - כל התבניות
- ✅ `wp-content/plugins/` - כל הפלאגינים המעודכנים
- ✅ `wp-content/languages/` - קבצי שפה
- ✅ קבצים ברמה העליונה: `index.php`, `license.txt`, וכו'

**❌ לא - אל תכלול:**
- ❌ `wp-config.php` - אל תכלול! (צריך לעדכן ידנית)
- ❌ `wp-content/uploads/` - בדרך כלל לא צריך (אלא אם יש תמונות חדשות)
- ❌ `wp-content/cache/` - לא צריך
- ❌ `wp-content/upgrade/` - תיקייה זמנית

**הערה:** הסקריפט `create-long-path-zip.ps1` כבר מטפל בזה אוטומטית!

---

## ✅ שלב 7: רשימת בדיקות אחרונות

### 7.1 לפני העלאה - ודא:

- [ ] ✅ גיבוי מקומי הושלם
- [ ] ✅ ZIP עם נתיבים ארוכים נוצר
- [ ] ✅ דחיפה ל-GitHub הושלמה
- [ ] ✅ כל הבדיקות המקומיות עברו
- [ ] ✅ גיבוי ייצור הושלם
- [ ] ✅ יש תוכנית שחזור במקרה של בעיות

---

## 📋 סיכום - מה לעשות עכשיו

### ⚡ דרך מהירה - סקריפט אוטומטי (מומלץ!)

**השתמש בסקריפט החדש שיעשה הכל אוטומטית:**

```batch
.\PRE-PRODUCTION-CHECKLIST.bat
```

או:

```powershell
.\pre-production-checklist.ps1
```

**מה הסקריפט עושה:**
1. ✅ גיבוי מקומי אוטומטי
2. ✅ בדיקת קובץ ZIP עם נתיבים ארוכים
3. ✅ דחיפה ל-GitHub אוטומטית
4. ✅ בדיקות מקומיות בסיסיות
5. ✅ תזכורת לפעולות ידניות

---

### דרך ידנית - שלב שלב:

1. **גיבוי מקומי:**
   ```batch
   .\backup-site.bat
   ```

2. **יצירת ZIP:**
   ```powershell
   .\create-long-path-zip.ps1
   ```

3. **דחיפה ל-GitHub:**
   ```batch
   .\GIT-COMMIT-AND-PUSH.bat
   ```

4. **בדיקות מקומיות:**
   - ראה: `docs/PRE-PRODUCTION-CHECKLIST.md`
   - ודא שהכל עובד

5. **גיבוי ייצור:**
   - גבה את אתר ייצור לפני העלאה!

6. **העלאה לייצור:**
   - ראה: `docs/PRODUCTION-DEPLOYMENT-PLAN.md`

---

## ⚠️ אזהרות חשובות

1. **תמיד גבה לפני שינוי!** - גם מקומי וגם ייצור
2. **עבוד שלב שלב** - אל תקפוץ לשלב הבא לפני שהנוכחי הושלם
3. **תיעוד** - רשום כל פעולה שעשית
4. **תוכנית שחזור** - תמיד יש תוכנית איך לחזור אחורה

---

**תאריך הכנה:** _______________________________________________  
**מי הכין:** _______________________________________________  
**מוכן לייצור:** ✅ כן / ❌ לא / ⚠️ עם אזהרות

---

## קישורים שימושיים

- **רשימת בדיקות:** `docs/PRE-PRODUCTION-CHECKLIST.md`
- **תוכנית העלאה:** `docs/PRODUCTION-DEPLOYMENT-PLAN.md`
- **מדריך גיבוי:** `BACKUP-GUIDE.md`
- **תיעוד פרויקט:** `PROJECT-DOCUMENTATION.md`

